---
title: "Rubyコーディング時に検討すること"
emoji: "🟥🖊️"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: [Ruby, コーディングプロセス]
publwished: false
---

## コーディング手順

- フォーマットにコーディング内容を記載
- 作成する箇所を検討
- 時間の見積もりをする
- コーディング
- 時間内に終わらなかったら、理由を振り返る（もう一度同じことをして、もっと早く完成できるか検討する）

## フォーマット

コーディング時に以下のフォーマットを使用すると、どこから手をつけるか考えやすい。

```markdown
## 仕様を分解する

 1. 追加の仕様が必要となる背景を把握
     - どういう立場のユーザーが
     - いつ、どんな頻度でその機能を使い
     - その機能を使ってどんなことをするのか
 2. 現状を把握する（既存のコードがあれば）
 3. 追加仕様を把握する
    1. 追加仕様
    2. 追加仕様を機能に分割化
    3. 現状の機能との差分を確認
 4. 機能をタスク化して優先順位を決める
    1. タスク一覧
    2. タスクの作業時間を見積もる
    3. タスクリストをレビューしてもらう

### コードの構成を考える

1. 入力と出力を考える
2. データ構造を考える
3. テスト構成を考える（正常系、異常系、セキュリティ）
4. ライブラリ探す

### ベタに書く

Fake It(ロジックらしいロジックがない固定の値を返すような仮実装のこと(メソッドとテストコードがリンクしているかの疎通確認）)を意識する。

1. テストコードを書く
2. メインコードを書く
   - 15分ハマってChatGPTに聞いてもダメなら、他の人に聞く
   - 正常系完成したらレビューしてもらう

### クラスに分ける

### 清書する

## 書くとき

### Rubyおまじない

#!/usr/bin/env ruby
# frozen_string_literal: true

## push前にチェックすること

- [ ] rubocopパスしているか？
- [ ] 組み込み・標準添付ライブラリの単語を使っているか？
- [ ] クラスは名詞、メソッドは動詞か？
- [ ] 頻出名詞をクラスに抜き出す
- [ ] ハッシュテーブルによる分岐数削減
- [ ] push先とpushするbranchは正しいか？
- [ ] PR先は正しいか？
- [ ] 引数のないメソッドは可読性のためインスタンス変数っぽく名詞の名前をつけているか？
- [ ] 1メソッドは五行以内に収めるているか？
- [ ] DRY原則("Don't repeat yourself")に従っているか？

```

## コーディング中に気を付けること

- コーディング中に検索した内容は、検索結果で学んだことをメモする
- 原則
  - KISS原則（Keep it simple, stupid.）：必要性の曖昧な機能をいたずらに追加するのではなく、可能な限りシンプルにする（バカでも治せるコードに）
  - YAGNI原則（You Ain't Gonna Need It）：将来必要になるかもという見込みや憶測で機能を追加することは戒めるべきである（無駄な工数削減やバグ回避に）
  - DRY原則（Don't Repeat Yourself）：同じ情報は分散させずに、一箇所で管理すること

## フォーマット修正案

- コーディングフローの概要
- コーディング前の思考整理テンプレと詳細（別で記す）
- コーディング中の注意点
- コーディング後のチェックリスト
- コード共有のための説明テンプレ
